<div class="card grid-margin">
  <div class="card-header d-flex align-items-center">
    <i class="fas fa-clipboard-list me-2 text-primary"></i>
    <h3 class="mb-0">Product Planning</h3>
  </div>

  <div class="card-body p-3">
    <form
      [formGroup]="addProductPlanningForm"
      (ngSubmit)="submit()"
      class="d-flex flex-nowrap align-items-end pb-2"
      style="gap: 1.25rem; scrollbar-width: thin"
    >
      <!-- Plant -->
      <div
        class="form-group"
        *ngIf="accessToFactories"
        style="min-width: 220px"
      >
        <label class="form-label d-flex align-items-center mb-1 fw-medium">
          <!-- <i class="fas fa-industry me-2 text-muted"></i> -->
          Plant
        </label>
        <ng-select
          [items]="FactoriesDropDown"
          [loading]="!FactoriesDropDown"
          [searchable]="false"
          bindLabel="name"
          bindValue="id"
          placeholder="Select Plant"
          formControlName="factoryId"
          [(ngModel)]="selectedplant"
          (change)="lineID(selectedplant)"
          class="w-100 custom-ng-select"
        ></ng-select>
      </div>

      <!-- Line -->
      <div class="form-group" style="min-width: 200px">
        <label class="form-label d-flex align-items-center mb-1 fw-medium">
          <!-- <i class="fas fa-stream me-2 text-muted"></i> -->
          Line
        </label>
        <ng-select
          [items]="lineNum"
          [searchable]="false"
          bindLabel="name"
          bindValue="id"
          placeholder="Select Line"
          formControlName="lineId"
          [(ngModel)]="selectedLine"
          class="w-100 custom-ng-select"
        ></ng-select>
      </div>

      <!-- Day -->
      <div class="form-group" style="min-width: 180px">
        <label class="form-label d-flex align-items-center mb-1 fw-medium">
          <!-- <i class="fas fa-calendar-alt me-2 text-muted"></i>  -->
          Day
        </label>
        <input
          formControlName="day"
          class="form-control form-control-sm"
          type="date"
          [(ngModel)]="selectedShift"
        />
      </div>

      <!-- SKU -->
      <div class="form-group" style="min-width: 220px">
        <label class="form-label d-flex align-items-center mb-1 fw-medium">
          <!-- <i class="fas fa-barcode me-2 text-muted"></i> -->
          SKU
        </label>
        <ng-select
          [items]="skus"
          [searchable]="false"
          bindLabel="name"
          bindValue="sku"
          placeholder="Select SKU"
          formControlName="skuName"
          class="w-100 custom-ng-select"
        ></ng-select>
      </div>

      <!-- Quantity -->
      <div class="form-group" style="min-width: 160px">
        <label class="form-label d-flex align-items-center mb-1 fw-medium">
          <!-- <i class="fas fa-hashtag me-2 text-muted"></i> -->
          Qty
        </label>
        <input
          formControlName="target"
          class="form-control form-control-sm"
          type="number"
          placeholder="Qty"
        />
      </div>

      <!-- Submit Button -->
      <div class="form-group" style="min-width: 130px">
        <label class="form-label d-block mb-1 opacity-0">Action</label>
        <button
          class="btn btn-primary tw-bg-searchBtn d-flex align-items-center gap-1 px-3 py-2"
          type="submit"
          [disabled]="addProductPlanningForm.invalid"
        >
          <!-- <i class="fas fa-paper-plane"></i>  -->
          Submit
        </button>
      </div>
    </form>
  </div>
</div>
